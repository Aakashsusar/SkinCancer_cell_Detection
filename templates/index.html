<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DERMA-SCAN AI</title>
  <link rel="stylesheet" href="../static/style.css" />
</head>
<body>
  <header class="site-header">
    <img src="{{ url_for('static', filename='cancer-cell.png') }}" alt="Cancer Logo" class="logo" />
    <span class="brand-name">DERMA-SCAN AI</span>
  </header>

  <div class="main-container">
    <div class="left-panel">
      <div class="center-circle">
        <div class="circle-glow"></div>
        <div class="circle-content">
          <div class="circle-text">SKIN CELL</div>
          <div class="circle-text-sub">ANALYZER</div>
        </div>
      </div>
      
      <div class="action-button" onclick="document.getElementById('fileInput').click()">
        <svg class="button-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
        </svg>
        <span>UPLOAD IMAGE</span>
      </div>
      <input type="file" id="fileInput" accept="image/*" onchange="previewFile()" style="display: none;">
      
      <div class="action-button" id="captureBtn" onclick="toggleCamera()">
        <svg class="button-icon camera-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
          <circle cx="12" cy="13" r="4"/>
        </svg>
        <span id="captureBtnText">CAPTURE IMAGE</span>
      </div>
      
      <video id="video" autoplay playsinline></video>
      <canvas id="canvas"></canvas>
      
      <button id="snapBtn" class="snap-button" onclick="captureImage()" style="display: none;">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <circle cx="12" cy="12" r="3"/>
        </svg>
        <span>SNAP PHOTO</span>
      </button>
    </div>

    <div class="center-panel">
      <div class="preview-box">
        <h3>IMAGE PREVIEW</h3>
        <div class="image-container">
          <img id="preview" alt="Preview will appear here" />
        </div>
      </div>
    </div>

    <div class="right-panel">
      <div class="result-box">
        <h3>AI DIAGNOSIS RESULT</h3>
        <div class="result-content">
          <p id="result">PENDING ANALYSIS...</p>
          <div class="checkmark-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
              <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
          </div>
          <div class="confidence-info">
            <p>CONFIDENCE SCORE:</p>
            <p>RECOMMENDATION:</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ECG Line Animation -->
  <div class="ecg-container">
    <svg class="ecg-line" viewBox="0 0 1200 100" preserveAspectRatio="none">
      <path class="ecg-path" d="M0,50 L200,50 L210,50 L220,20 L230,80 L240,50 L250,50 L450,50 L460,50 L470,20 L480,80 L490,50 L500,50 L700,50 L710,50 L720,20 L730,80 L740,50 L750,50 L950,50 L960,50 L970,20 L980,80 L990,50 L1000,50 L1200,50" 
            fill="none" 
            stroke="url(#ecgGradient)" 
            stroke-width="2"/>
      <defs>
        <linearGradient id="ecgGradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#00d9ff;stop-opacity:0" />
          <stop offset="50%" style="stop-color:#00d9ff;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#a855f7;stop-opacity:0" />
        </linearGradient>
      </defs>
    </svg>
  </div>

  <div class="bottom-section">
    <button class="predict-button" onclick="uploadImage()">
      <span>GET RESULT</span>
      <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M5 12h14M12 5l7 7-7 7"/>
      </svg>
    </button>
  </div>

  <script src="../static/script.js"></script>
</body>
</html>
